/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:53:36: error: expected '{' before '*' token
 static inline void add_tail(struct *cpu_state local_state, struct task_struct* task) {
                                    ^
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c: In function 'nuevo_activate_plugin':
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:86:8: error: 'struct cpu_state' has no member named 'num_tasks_queued'
   state->num_tasks_queued = 0;
        ^~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:87:37: error: 'SPIN_LOCK_UNLOCKED' undeclared (first use in this function)
                 state->queue_lock = SPIN_LOCK_UNLOCKED;
                                     ^~~~~~~~~~~~~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:87:37: note: each undeclared identifier is reported only once for each function it appears in
In file included from ./include/linux/compiler.h:58:0,
                 from ./include/uapi/linux/stddef.h:1,
                 from ./include/linux/stddef.h:4,
                 from ./include/uapi/linux/posix_types.h:4,
                 from ./include/uapi/linux/types.h:13,
                 from ./include/linux/types.h:5,
                 from ./include/linux/list.h:4,
                 from ./include/linux/module.h:9,
                 from /home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:1:
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:90:61: error: unknown type name 'fcfs_queue_node'
                 init_sized_list(&state->fcfs_queue,offsetof(fcfs_queue_node,
                                                             ^
./include/linux/compiler-gcc.h:159:21: note: in definition of macro '__compiler_offsetof'
  __builtin_offsetof(a, b)
                     ^
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:90:52: note: in expansion of macro 'offsetof'
                 init_sized_list(&state->fcfs_queue,offsetof(fcfs_queue_node,
                                                    ^~~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c: In function 'nuevo_schedule':
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:133:4: error: implicit declaration of function 'add_tail' [-Werror=implicit-function-declaration]
    add_tail(&local_state, &local_state->scheduled);
    ^~~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:139:22: error: passing argument 1 of 'remove_sized_list' from incompatible pointer type [-Werror=incompatible-pointer-types]
    remove_sized_list(&next_node);
                      ^
In file included from /home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:25:0:
/home/bench/Carlos/plugins/plugin_sketch/list_jcsaez.h:48:20: note: expected 'sized_list_t * {aka struct sized_list *}' but argument is of type 'struct fcfs_queue_node **'
 static inline void remove_sized_list ( sized_list_t* slist, void* elem)
                    ^~~~~~~~~~~~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:139:4: error: too few arguments to function 'remove_sized_list'
    remove_sized_list(&next_node);
    ^~~~~~~~~~~~~~~~~
In file included from /home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:25:0:
/home/bench/Carlos/plugins/plugin_sketch/list_jcsaez.h:48:20: note: declared here
 static inline void remove_sized_list ( sized_list_t* slist, void* elem)
                    ^~~~~~~~~~~~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c: In function 'nuevo_task_new':
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:174:33: warning: unused variable 'new_node' [-Wunused-variable]
         struct fcfs_queue_node *new_node;
                                 ^~~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c: In function 'nuevo_task_exit':
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:203:44: error: 'struct cpu_state' has no member named 'local_queues'; did you mean 'fcfs_queue'?
         spin_unlock_irqrestore(&local_state->local_queues.ready_lock, flags);
                                            ^~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c: In function 'nuevo_task_resume':
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:210:33: warning: unused variable 'new_node' [-Wunused-variable]
         struct fcfs_queue_node *new_node;
                                 ^~~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c: In function 'nuevo_read':
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:254:31: error: conflicting types for 'cpu'
     char kbuf[MAX_SIZE]; char cpu[] = "CPU     NUM_SCUEDULES";
                               ^~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:252:9: note: previous declaration of 'cpu' was here
     int cpu, read = 0;
         ^~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:258:13: warning: passing argument 1 of 'strncpy' makes pointer from integer without a cast [-Wint-conversion]
     strncpy(kbuf[read],cpu,strlen((const char*)cpu));
             ^~~~
In file included from ./include/linux/bitmap.h:8:0,
                 from ./include/linux/cpumask.h:11,
                 from ./arch/x86/include/asm/cpumask.h:4,
                 from ./arch/x86/include/asm/msr.h:10,
                 from ./arch/x86/include/asm/processor.h:20,
                 from ./arch/x86/include/asm/cpufeature.h:4,
                 from ./arch/x86/include/asm/thread_info.h:52,
                 from ./include/linux/thread_info.h:58,
                 from ./arch/x86/include/asm/preempt.h:6,
                 from ./include/linux/preempt.h:59,
                 from ./include/linux/spinlock.h:50,
                 from ./include/linux/seqlock.h:35,
                 from ./include/linux/time.h:5,
                 from ./include/linux/stat.h:18,
                 from ./include/linux/module.h:10,
                 from /home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:1:
./include/linux/string.h:24:15: note: expected 'char *' but argument is of type 'char'
 extern char * strncpy(char *,const char *, __kernel_size_t);
               ^~~~~~~
In file included from ./arch/x86/include/asm/cpumask.h:4:0,
                 from ./arch/x86/include/asm/msr.h:10,
                 from ./arch/x86/include/asm/processor.h:20,
                 from ./arch/x86/include/asm/cpufeature.h:4,
                 from ./arch/x86/include/asm/thread_info.h:52,
                 from ./include/linux/thread_info.h:58,
                 from ./arch/x86/include/asm/preempt.h:6,
                 from ./include/linux/preempt.h:59,
                 from ./include/linux/spinlock.h:50,
                 from ./include/linux/seqlock.h:35,
                 from ./include/linux/time.h:5,
                 from ./include/linux/stat.h:18,
                 from ./include/linux/module.h:10,
                 from /home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:1:
./include/linux/cpumask.h:223:13: error: assignment to expression with array type
  for ((cpu) = -1;    \
             ^
./include/linux/cpumask.h:717:36: note: in expansion of macro 'for_each_cpu'
 #define for_each_online_cpu(cpu)   for_each_cpu((cpu), cpu_online_mask)
                                    ^~~~~~~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:261:5: note: in expansion of macro 'for_each_online_cpu'
     for_each_online_cpu(cpu){
     ^~~~~~~~~~~~~~~~~~~
./include/linux/cpumask.h:224:24: warning: passing argument 1 of 'cpumask_next' makes integer from pointer without a cast [-Wint-conversion]
   (cpu) = cpumask_next((cpu), (mask)), \
                        ^
./include/linux/cpumask.h:717:36: note: in expansion of macro 'for_each_cpu'
 #define for_each_online_cpu(cpu)   for_each_cpu((cpu), cpu_online_mask)
                                    ^~~~~~~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:261:5: note: in expansion of macro 'for_each_online_cpu'
     for_each_online_cpu(cpu){
     ^~~~~~~~~~~~~~~~~~~
./include/linux/cpumask.h:188:28: note: expected 'int' but argument is of type 'char *'
 static inline unsigned int cpumask_next(int n, const struct cpumask *srcp)
                            ^~~~~~~~~~~~
./include/linux/cpumask.h:224:9: error: assignment to expression with array type
   (cpu) = cpumask_next((cpu), (mask)), \
         ^
./include/linux/cpumask.h:717:36: note: in expansion of macro 'for_each_cpu'
 #define for_each_online_cpu(cpu)   for_each_cpu((cpu), cpu_online_mask)
                                    ^~~~~~~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:261:5: note: in expansion of macro 'for_each_online_cpu'
     for_each_online_cpu(cpu){
     ^~~~~~~~~~~~~~~~~~~
./include/linux/cpumask.h:225:9: warning: comparison between pointer and integer
   (cpu) < nr_cpu_ids;)
         ^
./include/linux/cpumask.h:717:36: note: in expansion of macro 'for_each_cpu'
 #define for_each_online_cpu(cpu)   for_each_cpu((cpu), cpu_online_mask)
                                    ^~~~~~~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:261:5: note: in expansion of macro 'for_each_online_cpu'
     for_each_online_cpu(cpu){
     ^~~~~~~~~~~~~~~~~~~
./include/linux/cpumask.h:224:38: warning: left-hand operand of comma expression has no effect [-Wunused-value]
   (cpu) = cpumask_next((cpu), (mask)), \
                                      ^
./include/linux/cpumask.h:717:36: note: in expansion of macro 'for_each_cpu'
 #define for_each_online_cpu(cpu)   for_each_cpu((cpu), cpu_online_mask)
                                    ^~~~~~~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:261:5: note: in expansion of macro 'for_each_online_cpu'
     for_each_online_cpu(cpu){
     ^~~~~~~~~~~~~~~~~~~
In file included from ./include/linux/compiler.h:58:0,
                 from ./include/uapi/linux/stddef.h:1,
                 from ./include/linux/stddef.h:4,
                 from ./include/uapi/linux/posix_types.h:4,
                 from ./include/uapi/linux/types.h:13,
                 from ./include/linux/types.h:5,
                 from ./include/linux/list.h:4,
                 from ./include/linux/module.h:9,
                 from /home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:1:
./include/asm-generic/percpu.h:20:44: error: array subscript is not an integer
 #define per_cpu_offset(x) (__per_cpu_offset[x])
                                            ^
./include/linux/compiler-gcc.h:53:26: note: in definition of macro 'RELOC_HIDE'
  (typeof(ptr)) (__ptr + (off));     \
                          ^~~
./include/linux/percpu-defs.h:223:2: note: in expansion of macro 'SHIFT_PERCPU_PTR'
  SHIFT_PERCPU_PTR((ptr), per_cpu_offset((cpu)));   \
  ^~~~~~~~~~~~~~~~
./include/linux/percpu-defs.h:223:26: note: in expansion of macro 'per_cpu_offset'
  SHIFT_PERCPU_PTR((ptr), per_cpu_offset((cpu)));   \
                          ^~~~~~~~~~~~~~
./include/linux/percpu-defs.h:256:29: note: in expansion of macro 'per_cpu_ptr'
 #define per_cpu(var, cpu) (*per_cpu_ptr(&(var), cpu))
                             ^~~~~~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:50:35: note: in expansion of macro 'per_cpu'
 #define cpu_state_for(cpu_id)   (&per_cpu(cpu_state, cpu_id))
                                   ^~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:262:23: note: in expansion of macro 'cpu_state_for'
         local_state = cpu_state_for(cpu);
                       ^~~~~~~~~~~~~
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:264:29: warning: cast to pointer from integer of different size [-Wint-to-pointer-cast]
         strncpy(&kbuf[read],(char*)local_state->cpu,strlen((const char*)sp));
                             ^
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:266:39: warning: format '%i' expects argument of type 'int', but argument 3 has type 'size_t {aka long unsigned int}' [-Wformat=]
         read += sprintf(&kbuf[read],"%i\n",sized_list_length(&local_state->fcfs_queue)));
                                       ^
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:266:88: error: expected ';' before ')' token
         read += sprintf(&kbuf[read],"%i\n",sized_list_length(&local_state->fcfs_queue)));
                                                                                        ^
/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.c:266:88: error: expected statement before ')' token
cc1: some warnings being treated as errors
make[2]: *** [/home/bench/Carlos/plugins/plugin_sketch/plugin_nuevo.o] Error 1
make[1]: *** [_module_/home/bench/Carlos/plugins/plugin_sketch] Error 2
make: *** [all] Error 2
